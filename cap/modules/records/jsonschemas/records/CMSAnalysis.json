{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "CMS Analysis Example (JSON Schema)",
  "description": "Schema example for records Schema example for records Schema example for records Schema example for recordsSchema example for recordsSchema example for records",
  "properties": {
    "basic_info": {
      "title": "Basic Information",
      "propertyOrder": 10,
      "type": "object",
      "id": "basic_info",
      "properties": {
        "analysis_number": {
          "description": "Analysis Description",
          "title": "Analysis Number",
          "type": "string"
        },
        "abstract": {
          "title": "Abstract/Conclusion",
          "type": "string"
        }
      }
    },
    "aod_processing": {
      "title": "AOD Processing",
      "description": "Provide AOD Processing information",
      "type": "object",
      "id": "aod_processing",
      "properties": {
        "primary_datasets": {
          "title": "Primary Datasets",
          "description": "Add CMS primary datasets",
          "type": "array",
          "id": "primary-datasets",
          "items": {
            "$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/PrimaryDataset-vtest01.json",
            "properties": {
              "copypaste": {
                "type": "string"
              }
            }
          }
        },
        "mc_dataset": {
          "title": "Monte Carlo Datasets",
          "description": "Add Monte Carlo datasets",
          "type": "array",
          "id": "mc-datasets",
          "items": {
            "$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/MonteCarloDataset-vtest01.json",
            "defaultProperties": [
              "title"
            ]
          }
        },
        "triggers": {
          "title": "Selection Triggers",
          "description": "Add triggers here",
          "type": "array",
          "items": {
            "title": "Trigger",
            "type": "object",
            "id": "trigger",
            "properties": {
              "trigger": {
                "title": "Trigger",
                "type": "string",
                "enum": [],
                "dependencies": [
                  "run_period",
                  "element"
                ]
              },
              "run_period": {
                "title": "Run Period",
                "type": "string",
                "enum": []
              },
              "element": {
                "title": "Element",
                "type": "string",
                "enum": [],
                "dependencies": [
                  "run_period"
                ]
              }
            }
          }
		},
        "event_selection": {
          "title": "Event Selection",
          "type": "object",
          "properties": {
			"event_filter": {
			  "title": "Event Filter",
			  "type": "string",
			  "enum": ["HCAL noise cleaning filter", "ECAL spike removal"]
			},
			"reference": {
			  "title": "Reference",
			  "type": "string"
			}
		  }
		},
		"mc_signal_selection": {
          "title": "MC Signal Selection",
          "type": "object",
          "properties": {
			"signal": {
			  "title": "Signal",
			  "type": "string"
			},
			"bin": {
			  "title": "Bin",
			  "type": "object",
			  "properties": {
				"pt_hat": {
				  "title": "pt_hat",
				  "type": "string"
				},
				"num_events": {
				  "title": "Number of Events",
				  "type": "string"
				}
			  }
			},
			"generator_tune": {
			  "title": "Generator and Tune",
			  "type": "object",
			  "properties": {
				"generator": {
				  "type": "string",
				  "enum": ["need", "more", "information"]
				},
				"tune": {
				  "type": "string",
				  "enum": ["need", "more", "information"]
				}
			  }
			},
			"pT": {
			  "title": "PT",
			  "type": "string"
			},
			"rapidity": {
			  "title": "Rapidity",
			  "enum": ["Rapidity", "Pseudorapidity"]
			},
			"decay_channel": {
			  "title": "Decay Channel",
			  "type": "string"
			},
			"decay_engine": {
			  "title": "Decay Engine",
			  "type": "string",
			  "enum": ["need", "more", "information"]
			},
			"additional_info": {
			  "title": "Additional Information",
			  "type": "string"
			}
		  }
		},
		"background": {
          "title": "Background",
          "type": "object",
          "properties": {
			"generator_tune": {
			  "title": "Generator and Tune",
			  "type": "object",
			  "properties": {
				"generator": {
				  "type": "string",
				  "enum": ["need", "more", "information"]
				},
				"tune": {
				  "type": "string",
				  "enum": ["need", "more", "information"]
				}
			  }
			},
			"collision_species": {
			  "title": "Collision Species",
			  "type": "string",
			  "enum": ["pp", "PbPb", "pPb"]
			},
			"collision_energy": {
			  "title": "Collision Energy",
			  "type": "string"
			},
			"bin": {
			  "title": "Bin",
			  "type": "object",
			  "properties": {
				"pt_hat": {
				  "title": "pt_hat",
				  "type": "string"
				},
				"num_events": {
				  "title": "Number of Events",
				  "type": "string"
				}
			  }
			},
			"additional_info": {
			  "title": "Additional Information",
			  "type": "string"
			}
		  }
        }
      }
    },
    "physics_information": {
      "title": "Physics Information",
      "description": "Provide information about datasets, triggers, physics objects, etc",
      "type": "array",
      "id": "physics-information",
      "default": [{}],
      "items": {
        "$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/DetectorState-vtest01.json"
      }
    },
    "final_state": {
      "title": "Detector Final State",
      "description": "Provide information about datasets, triggers, physics objects, etc",
      "type": "array",
      "default": [{}],
      "items": {
		"title": "Detector Final State",
		"description": "Information concerning the state of the detector",
		"type": "object",
		"properties": {
		  "physics_objects": {
			"title": "Physics Objects",
			"type": "array",
			"items": {
			  "type": "object",
			  "properties": {
				"object": {
				  "title": "Object",
				  "type": "string",
				  "enum": [
					"electron",
					"muon",
					"tau",
					"jet",
					"bjet",
					"photon"
				  ]
				},
				"jet_type": {
				  "type": "string",
				  "title": "Jet type",
				  "enum": [
					"AK4",
					"AK8"
				  ],
				  "dependencies": [
					"object"
				  ]
				},
				"sel_criteria": {
				  "type": "string",
				  "title": "Selection Criteria",
				  "enum": ["tight", "loose"]
				},
				"number": {
				  "title": "Number",
				  "type": "integer"
				},
				"pt_cut": {
				  "title": "PT",
				  "type": "string"
				},
				"era_cut": {
				  "title": "ETA",
				  "type": "string"
				}
			  }
			}
		  },
		  "cuts": {
			"title": "Cuts",
			"description": "e.g. [{'eta':'ECAL', 'pT': '' >20 Gev'}]",
			"type": "array",
			"items": {
			  "title": "Cut",
			  "type": "object",
			  "properties": {
				"eta": {
				  "title": "eta",
				  "type": "string"
				},
				"pT": {
				  "title": "pT",
				  "type": "string"
				}
			  }
			}
		  },
		  "veto": {
			"title": "Vetos",
			"description": "Provide vetos",
			"type": "array",
			"items": {
			  "type": "object",
			  "properties": {
				"particle": {
				  "title": "Particle",
				  "type": "string",
				  "enum": ["electron", "muon", "bjet"]
				},
				"number": {
				  "title": "Number",
				  "type": "integer"
				},
				"pt_cut": {
				  "title": "PT",
				  "type": "string"
				},
				"era_cut": {
				  "title": "ETA",
				  "type": "string"
				}
			  }
			}
		  },
		  "event_level_quantity": {
			"title": "Event Level Quantity",
			"type": "object",
			"properties": {
			  "someplaceholder": {
				"title": "Placeholder",
				"type": "string"
			  }
			}
		  },
		  "final_state_object": {
			"title": "Final State Object",
			"type": "object",
			"properties": {
			  "base_definition": {
				"title": "Base Definition",
				"type": "string"
			  },
			  "physical_value": {
				"title": "Physical Value",
				"type": "string"
			  },
			  "physical_value": {
				"title": "Physical Value",
				"type": "string"
			  },
			  "physical_value": {
				"title": "Physical Value",
				"type": "string"
			  },
			  "selection_criteria": {
				"title": "Selection Criteria",
				"type": "array",
				"items": {
				  "type": "object",
				  "properties": {
					"someplaceholder": {
					  "title": "Placeholder",
					  "type": "string"
					}
				  }
				}
			  }
			}
		  },
		  "selection_criteria": {
			"title": "Selection Criteria",
			"type": "object",
			"properties": {
			  "someplaceholder": {
				"title": "Placeholder",
				"type": "string"
			  }
			}
		  }
		}
	  }
    },
    "post_aod_processing": {
      "title": "Post-AOD Processing",
      "type": "array",
      "default": [{}],
      "items": {
        "$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/PostAODProcessing-vtest01.json"
      }
    },
    "documentations": {
      "title": "Documentations",
      "description": "Provide documentation and other things",
      "type": "array",
      "id": "documentations",
      "default": [{}],
      "items": {
        "$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/Documentation-vtest01.json"
      }
    },
    "internal_discussions": {
      "title": "Internal Discussions",
      "description": "Add Internal Discussions",
      "type": "array",
      "id": "internal-discussions",
      "default": [{}],
      "items": {
        "$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/InternalDiscussion-vtest01.json"
      }
    },
    "presentations": {
      "title": "Presentations",
      "description": "Add Presentations",
      "type": "array",
      "id": "presentations",
      "default": [{}],
      "items": {
        "$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/Presentation-vtest01.json"
      }
    },
    "publications": {
      "title": "Publications",
      "description": "Add publications or Import from CADI",
      "type": "array",
      "id": "publications",
      "default": [{}],
      "items": {
        "$ref": "https://analysis-preservation.cern.ch/records/jsonschemas/definitions/Publication-vtest01.json"
      }
    },
    "keywords": {
      "title": "Keywords",
      "description": "Add keywords here",
      "type": "string",
      "id": "keywords"
    }
  },
  "type": "object"
}
